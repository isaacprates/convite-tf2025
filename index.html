<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=560, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Convite Especial - Trombetas e Festas 2025</title>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
      body,
      html {
        margin: 0 auto;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          Arial, sans-serif;
        text-align: center;
        background-color: #f0f0f0;
        line-height: 1.4;
        width: 560px;
        overflow-x: hidden;
        background-color: #f0f0f0;
      }

      /* √Årea de entrada */
      #area-input {
        text-align: center;
        margin: 40px auto;
        padding: 15px;
        background: #ffffff;
        max-width: 600px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      }

      #area-input input {
        width: 80%;
        padding: 10px;
        font-size: clamp(12px, 3.5vw, 15px);
        border: 1px solid #ccc;
        border-radius: 6px;
        margin-bottom: 10px;
      }

      #area-input button {
        padding: 10px 20px;
        font-size: clamp(12px, 3.5vw, 15px);
        cursor: pointer;
        border: none;
        border-radius: 6px;
        background-color: #007bff;
        color: white;
        transition: 0.2s;
      }

      #area-input button:hover {
        background-color: #0056b3;
      }

      /* Toggle de idioma */
      .language-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin-bottom: 15px;
      }

      .toggle-switch {
        position: relative;
        width: 70px;
        height: 30px;
        background-color: #ccc;
        border-radius: 30px;
        cursor: pointer;
        transition: 0.3s;
      }

      .toggle-switch::before {
        content: '';
        position: absolute;
        top: 3px;
        left: 3px;
        width: 24px;
        height: 24px;
        background-color: white;
        border-radius: 50%;
        transition: 0.3s;
      }

      .toggle-switch.active {
        background-color: #007bff;
      }

      .toggle-switch.active::before {
        left: 43px;
      }

      /* Convite */
      .convite-container {
        position: relative;
        width: 560px;
        margin: 20px auto;
        display: none;
        overflow: hidden;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        border-radius: 10px;
      }

      .convite-container img {
        width: 560px;
        height: auto;
        display: block;
      }

      .conteudo {
        width: 560px;
        position: absolute;
        bottom: 5%;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        color: #333;
        background-color: transparent;
        text-align: center;
        padding-bottom: 10px;
      }

      #area-convite {
        display: none;
        font-size: clamp(8px, 2.5vw, 12px);
      }

      #area-convite h2 {
        font-size: clamp(10px, 3vw, 14px);
        font-weight: bold;
        margin: 5px 0;
        color: #000;
      }

      #area-convite p {
        margin: 6px 0;
      }

      #nome-destaque {
        color: #d9534f;
        font-weight: bold;
        font-size: clamp(14px, 4.5vw, 20px);
        margin: 5px 0;
      }

      #endereco-destaque {
        color: #d9534f;
        font-weight: bold;
        font-size: clamp(13px, 4vw, 18px);
      }

      .botoes-acao {
        margin-top: 15px;
        padding: 10px;
        display: none;
      }

      .botoes-acao button {
        padding: 10px 15px;
        font-size: clamp(11px, 3vw, 13px);
        cursor: pointer;
        border: none;
        border-radius: 6px;
        margin: 0 5px;
        background-color: #28a745;
        color: white;
        transition: 0.2s;
      }

      .botoes-acao button.btn-new {
        background-color: #ffc107;
        color: #333;
      }
    </style>
  </head>

  <body>
    <div id="area-input">
      <div class="language-toggle">
        <span id="flag-pt">üáßüá∑</span>
        <div id="toggleSwitch" class="toggle-switch"></div>
        <span id="flag-en">üá∫üá∏</span>
      </div>

      <input
        type="text"
        id="campo-nome"
        placeholder="Digite o nome do seu convidado"
      />
      <br />
      <input
        type="text"
        id="campo-endereco"
        placeholder="Digite o endere√ßo da igreja aqui"
      />
      <br />
      <button onclick="gerarConvite()">Personalizar Convite</button>
    </div>

    <div class="convite-container" id="conviteArea">
      <img
        src="conviteeditavel.png"
        alt="Convite Trombetas e Festas 2025"
        id="conviteImage"
      />
      <div class="conteudo" id="area-convite">
        <h2 id="titulo-convite">CONVITE ESPECIAL</h2>
        <h1 id="nome-destaque">Ol√°!</h1>
        <div id="mensagem1"></div>
        <div id="mensagem2"></div>
      </div>
    </div>

    <div class="botoes-acao" id="botoesAcao">
      <button class="btn-new" onclick="reiniciarConvite()">
        Gerar Novo Convite
      </button>
      <button onclick="baixarConvite()">Baixar Imagem do Convite</button>
    </div>

    <script>
      let idioma = 'pt'

      const textos = {
        pt: {
          image: 'conviteeditavel.png',
          titulo: 'CONVITE ESPECIAL',
          saudacao: (nome) => `Ol√°, ${nome}!`,
          msg1: `<p><strong>Igreja Crist√£ Maranata</strong> tem a alegria de convidar voc√™ e sua fam√≠lia para participar do <strong>"Culto Internacional - Trombetas e Festas 2025".</strong> Este evento ser√° <strong>um alerta prof√©tico para o mundo sobre os acontecimentos atuais que antecedem a volta do Senhor Jesus.</strong></p>`,
          msg2: (nome, endereco) => `
            <p><strong>Data:</strong> 29 de Novembro de 2025<br>
            <strong>Hor√°rio:</strong> 17:00 (Hor√°rio de Bras√≠lia)</p>
            <p>Convidamos voc√™s para assistirem ao evento conosco na:</p>
            <p><strong id="endereco-destaque">${endereco}</strong></p>
          `,
        },
        en: {
          image: 'convite-editavel-english-v2.png',
          titulo: 'SPECIAL INVITATION',
          saudacao: (nome) => `Hello, ${nome}!`,
          msg1: `<p><strong>Maranatha Christian Church</strong> is honored to invite you and your family to join the <strong>"International Service: Trumpets and Feasts 2025."</strong> This event will serve as <strong>a prophetic warning to the world about current events leading up to the return of the Lord Jesus.</strong></p>`,
          msg2: (nome, endereco) => `
            <p><strong>Date:</strong> November 30, 2025<br>
            <strong>Time:</strong> 10:00 AM (Orlando Time)</p>
            <p>We invite you to join us at:</p>
            <p><strong id="endereco-destaque">${endereco}</strong></p>
          `,
        },
      }

      const toggle = document.getElementById('toggleSwitch')
      toggle.addEventListener('click', () => {
        toggle.classList.toggle('active')
        idioma = toggle.classList.contains('active') ? 'en' : 'pt'
      })

      function gerarConvite() {
        let nome = document.getElementById('campo-nome').value.trim()
        let endereco = document.getElementById('campo-endereco').value.trim()

        if (!nome)
          nome = idioma === 'pt' ? 'Convidado(a) Especial' : 'Special Guest'
        if (!endereco)
          endereco = idioma === 'pt' ? 'Av Castro Alves' : 'Av Castro Alves'

        const t = textos[idioma]

        document.getElementById('conviteImage').src = t.image
        document.getElementById('titulo-convite').innerText = t.titulo
        document.getElementById('nome-destaque').innerText = t.saudacao(nome)
        document.getElementById('mensagem1').innerHTML = t.msg1
        document.getElementById('mensagem2').innerHTML = t.msg2(nome, endereco)

        document.getElementById('area-input').style.display = 'none'
        document.getElementById('conviteArea').style.display = 'block'
        document.getElementById('area-convite').style.display = 'block'
        document.getElementById('botoesAcao').style.display = 'block'
      }

      function reiniciarConvite() {
        document.getElementById('campo-nome').value = ''
        document.getElementById('campo-endereco').value = ''
        document.getElementById('area-input').style.display = 'block'
        document.getElementById('conviteArea').style.display = 'none'
        document.getElementById('botoesAcao').style.display = 'none'
      }

      function baixarConvite() {
        const botoesAcao = document.getElementById('botoesAcao')
        botoesAcao.style.display = 'none'

        const conviteElement = document.getElementById('conviteArea')

        html2canvas(conviteElement, {
          useCORS: true,
          allowTaint: true,
          scale: window.devicePixelRatio, // Safari precisa disso
          backgroundColor: null,
          scrollY: -window.scrollY, // evita corte no iOS
        }).then(function (canvas) {
          const link = document.createElement('a')
          link.download = 'convite-personalizado.png'
          link.href = canvas.toDataURL('image/png')
          link.click()
        })
      }
    </script>
  </body>
</html>
